
workflows:
  android_ios_build:
    name: Android & iOS Build
    environment:
      flutter: stable
    scripts:
      - name: Ensure Flutter project (if not already)
        script: |
          if [ ! -d "android" ]; then
            flutter create .
          fi
          flutter pub get
      - name: Generate icons & splash
        script: |
          dart run flutter_launcher_icons
          dart run flutter_native_splash:create
      - name: Build Android debug APK
        script: |
          flutter build apk --debug
      - name: Build Android Play Store AAB
        script: |
          flutter build appbundle --release
    artifacts:
      - build/app/outputs/flutter-apk/app-debug.apk
      - build/app/outputs/bundle/release/app-release.aab
